## 22/06/26, Sun

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_12.12.17.jpg" width="240px">

昨日のセルフ自販機の謎がわかった。各棚の天井に広角カメラがついてる。まあそりゃそうだよな。

南山区の本屋に、またきてみた。マイコン関係の本で、日本だとあまり見ないカテゴリの本が、けっこうにある。

- RISC-Vで自作CPU。Hummingbard E203。GitHubとGiteeに[リポジトリ](https://github.com/riscv-mcu/e203_hbirdv2)あり。
- 8051マイコンの本（これはかなり多い）。やっぱいまだに使われる場面が多いんだろうな。CH552もSTC8Gもそうだし。
- 自作CPU（やはり万国共通の人間の基本的欲求だよな）
- 表紙がPSoCだけど、ぜんぜんプログラマブルな周辺のない普通のARMマイコン、[ES32（初めて聞いた）](http://www.essemi.com/mobile/article/detail?id=296)
- 訳本ではないデザイン思考の本。ただ内容をざっと読んだところでは、UI/UX設計がメインっぽい。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_14.17.05.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_14.22.21.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_14.22.53.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_14.24.59.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_14.25.07.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_14.25.15.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_14.26.47.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_14.26.52.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_16.53.57.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-26_17.38.49.jpg" width="240px">

本屋の近くで、自動運転タクシーをみかけた。運転手は乗ってるけど、ハンドルに手は置いてない。車体に書いてある名前からして、これっぽい。南山区で運行しているようだ。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022_06_25_15.00.00.jpg" width="240px">

そういえば、3年ほど前にサバティカルの受け入れ先を探してたとき、伊藤先生（新興国経済）から、東大卒の中国人留学生のWeChatグループにまぜてもらって、そこで知り合った深セン大の郭先生が、こんな投稿をしていたのをみかけた。久しぶりに連絡をとってみたら、覚えてくれていて、学生・社会人のリカレント教育として、いろんな装置をかきあつめて、半導体製造の実習をやっているらしい。今度詳しく話を聞いてみようと思う。ちなみに所属は「機械電子学院」とのこと。


## 22/06/27, Mon

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-27_09.34.49.jpg" width="240px">

M5StackCore2でポモドーロ・タイマー。ほんとは傾けてモード切り替えとかしたいけど、とりあえず25分/5分。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-27_09.37.07.png" width="240px">

UIFlowのみで作ってみた。ソースは[これ](https://github.com/akita11/SZdiary/blob/main/diary/photo/PomodoroTimer.m5f)。Work中/Rest中で背景の色を変えて、切替時には振動する。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-27_10.50.41.jpg" width="240px">

で、先日からやってるSTM32F030が突然書き込みできなくなる件、やっと原因がわかった。エラーメッセージをよく読むと、0x08004000から先に書き込もうとしてるけど、STM32F030のフラッシュは0x08000000から16KBなので、ここにはメモリはない。ちなみにこれに気づいたのは、STmicro純正IDEのSTM32CubeIDEでCubeMXで初期設定しただけのものをビルドしたらフラッシュ使用率が90%にもなっているのに気づいたのだった。Keilコンパイラ、メモリ容量を超えてもエラーにならないんだ・・・こんなことで2日ほど使ってしまった、M5StackでExtIoとかのSTM32まわりのプログラムを書いているJayに相談したら、MICROLIBを使ってコンパイラの最適化をONにするといいよ、とのアドバイス。たしかにコードサイズが半分になった。そんなに小さくなるんか。

昨日連絡をとっていた深セン大の郭先生（郭登极(guo1 deng1ji2)）について、もうちょっと調べてみた所属は「[机电与控制工程学院](https://cmce.szu.edu.cn/index.htm)」で、[研究者紹介のページ](https://cmce.szu.edu.cn/info/1233/2352.htm)よれば、元の専門はMEMSのようだ（東大の石原直先生のところで博士号をとっている）。ここの業績リストには載っていないが、半導体産業についても教育研究をされているようだ。直接話をしにいってみるか。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-27_12.08.42.jpg" width="240px">

[このまえなかなか温度が上がらなかった、超小型基板ヒーター](https://github.com/akita11/SZdiary/blob/main/diary/research/2206-3.md#220620-mon)、USB PDのACアダプタが2口でもう片方がThinkPadにつながっていたから電流があまり取れなかったのが原因かと思い、USB電流計をはさんでみた。ThinkPadといっしょにつなぐと20V/1Aくらいしかとれない。これじゃ温度があまりあがらないはずだ。これだけにすると、20V/2.2Aで45Wくらになって、かなりいい感じで温度があがる。今回は部品を外すのに使ってみた。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-27_20.27.26.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-27_20.28.16.jpg" width="240px">

道具が揃ったので、早速チップ解析を開始。さすがに屋内では火災報知器が鳴りそうで怖いので、アパートの屋上で。STM32F030互換マイコン4種（うち1種は本家）。チップ取り出しと分析は明日。

***

[前の週へ](2206-3.md) /
[次の週へ](2207-1.md)

今週の
[日常](../diary/2206-4.md) /
[研究](../research/2206-4.md) /
[コロナ関連](../covid19/2206-4.md) / 
[中国語勉強](../chinese/2206-4.md) / 

[SZdiaryトップ](../../README.md)
