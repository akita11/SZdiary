# 22/09/04, Sun

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-04_13.31.00.jpg" width="240px">

今日は[MakerFaireTokyo](https://makezine.jp/event/mft2022/)の2日目。[TwitterTLで#MFT2022](https://twitter.com/search?q=%23MFTokyo2022&src=typed_query&f=live)を追いつつ、ステージ配信。午後には、自分のマイコン仲間というか師匠でもある[いしかわきょーすけさん](https://www.asahi-net.or.jp/~qx5k-iskw/darkside/)のプレゼンがある。ふだんあまり人前でしゃべらないいしかわさんのプレゼンなんて、かなりレア。お題は、最近[スイッチサイエンスで委託販売している直動機構](https://www.switch-science.com/catalog/7675/)と、それに至る前段階のペンプロッタの話。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-04_13.48.50.png" width="240px">

直動機構キットを50セット販売しきったところで、「初心」に返るところは、さすが、いしかわさん、だと思う。つまり「直動機構を自由に使える世界を目指していたんじゃなかったのか？」と自問。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-04_13.48.58.png" width="240px">

そしてその直動移動キットを使ったペンプロッタのキットを販売している。昨日5台、今日これまでに2台、売れたんだそうだ。「初心」に返るのは、肝に銘じたい。


## 22/09/05, Mon

[TD-4で掛け算をしてみた。3*[IN]で、IN=4として結果の12(0xc)がAに入ってる](https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-05_10.18.49.mp4)。

```
0x0 00110000 MOV A, 0x0
0x1 01100000 IN B
0x2 01011111 ADD B, 0xf
0x3 11100110 JZ 0x06
0x4 00000011 ADD A, 0x3
0x5 11110010 JMP 0x02
0x6 11110110 JMP 0x06
```
<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-05_10.33.57.jpg" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-05_10.34.18.jpg" width="240px">

XiaomiGlassに自分の眼鏡（老眼鏡）をはめる治具、プランジャーをはめてみた。ちょっと穴が浅くて0.2mmくらい出っ張っちゃって入らないけど、構造自体は大丈夫そう。JLCPCBでSLSナイロンで成形した部品、精度も成形等方性もよい感じ。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-05_16.04.55.jpg" width="240px">

こういう科学ネタのグッズ、けっこうあるんだよな。元素記号版のもあった。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-05_17.26.35.png" width="240px">

[スイッチサイエンスで委託販売しているもの](https://www.switch-science.com/catalog/list/?keyword=%E7%A7%8B%E7%94%B0)で在庫が切れかかっているやつを、こっちでJLCPCBにPCBAを出しておこうと思って作業。荷物の送付先は大学のオフィスへ。しかしポリスイッチの在庫がなさすぎるし種類が少なすぎる。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-05_18.42.12.png" width="240px">

ついでにM5Stackで発売準備中のTypeC2Grove、どうも生産ラインが混んでいて発売が遅れそうな気がするので、アイディアをもらっていた五味氏が10月初旬に使いたいというのに間に合うかどうか微妙になってきたので、これもPCBAに出しておいた。設計した会社（方案公司）が勝手に生産しちゃう、いわば「山寨」である。まあ設計データも発売後には公開されるし、山寨じゃないか。


## 22/09/06, Tue

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_9.31.40.png" width="240px">

いくら深センは電子部品がなんでもあるといっても、さすがにEIAJ規格のプラグはないなー・・・あたりまえか。それがついてるACアダプタはいくつかあるけど。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_10.56.49.png" width="240px">

と思ったら、[プラグの寸法で表記すると検索に引っかかるよ](https://ja.aliexpress.com/item/32851803043.html?gatewayAdapt=glo2jpn)、という情報をいただいた。例えばEIAJ-5だとこんな寸法で、外径6.5mm、中の芯の直径1.4mmなので"6514"とか、円筒の内径4.4mmを使って"6544"と呼ぶのが一般的のようだ。たしかにTaoBaoで"6514"で検索すると、それっぽいのが出てくる。

安先生と少し雑談。9/1に届いて9/7締め切りの論文を書く予定だったSoCは配送が送れていて来週届く予定になってしまい、予定していた論文投稿は間に合わなくなったそうだ。残念。でも別の学会に投稿予定とのことで、もう準備をはじめているそうだ。まあデジタル回路だし検証も十分やっているから一発で動くでしょう、とのこと。

遅ればせながら[「同人ハードウェアを残していくために —— ビット・トレード・ワンの「マイプロダクトサービス」」](https://fabcross.jp/interview/20220825_bit_trade_one.html)ををちゃんと読んだ。自分で基板とかのハードウエアをつくって売るのは、「俺得」なんだけど、案外世の中でも欲しい人がいて、市場の隙間をうめる製品になるケースもよくある。その一方で、最初は作ること自体が楽しいんだけど、だんだん「作業」になってしまうのは、よくある話で、自分も経験がある。ビット・トレード・ワンは、そのようなハードウエアの生産と販売を請け負って、作者に対してロイヤリティを支払う、というビジネスをやられている。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_14.15.05.png" width="240px">

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_14.20.08.png" width="240px">

先日みつけた、[CH552duinoKeyboard](https://github.com/yswallow/CH552duinoKeyboard)を試してる。このプログラムを書き込むと、Webブラウザから[RempのWebページ](https://remap-keys.app/)でキー割り当てを設定できる、というもの。手元にあるCH552duinoにこれを書き込んで（試しにRow/Col数は共に2で）、Remapから接続認識はOKだった。続いて[meishi2の設定JSONファイル](https://github.com/the-via/keyboards/blob/master/src/meishi2/meishi2.json)を参考にVID/PID等を指定した設定JSONファイルを読み込ませたら、エラーになる・・・？もうちょっと試してみよう。Twitterで作者の方にメンションつけて聞いてみたら、通信のタイムアウトが原因で、現状ではエラー処理が不十分で不安定なので何度か試せばOKのはず、とのことだった。なかなかうまくいかないけど、根気よくやってみよう。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_16.48.26.jpg" width="240px">

今日もCPUつくってる。というかまだROM側だけど、ダイオードつけるの、さすがにめんどくさくなってきたけど、あと1列32個まできた。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_17.18.39.jpg" width="240px">

もうちょっとがんばってROMのダイオード128本、でけた。うーん、心の乱れはハンダの乱れ、途中からだんだん雑になってるな・・・w

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_16.39.25.jpg" width="240px">

しかしこの前作ったTD-4キット（SMD版のほう）、たぶん基板図面ひいた人はコンピュータ詳しくないんじゃないかな。ROMアドレスが1からはじまってるし。当然ながらJMPで指定するアドレスと1ズレる。

そういえば[先日伺ったSMEの学科長は知り合いという方の話](https://github.com/akita11/SZdiary/blob/main/diary/research/2208-4.md#220828-sun)を思い出して、オフィスのひとつ上の5Fに教員紹介パネルがあったな、と思いだして、みてきた（ちなみに確かに学部を卒業した大学はその人と同じだった）。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_17.46.25.jpg" width="240px">

教員紹介パネルの向かいに、チップ写真ギャラリーがあった。たしか5月に案内してもらったときにはなかった気がする。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_17.47.36.jpg" width="240px">

イメージセンサのチップがあった。65nmで赤外光取得。教員紹介みたときにはそういう研究している人はみつからなかった記憶があるんだけど、改めてみてみよう。ちなみに右側のはpHイメージング。同じ人っぽいな。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_17.49.34.jpg" width="240px">

これももろにイメージセンサ。「无鏡头超分辨」とあるけど、「鏡头」＝レンズ、「超分辨」＝超解像だから、レンズレス超解像、という意味なんだけど、どういうイメージセンサなんだろう。初めて聞くタイプだな。あとで調べてみよう。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_17.48.28.jpg" width="240px">

こちらの左はDC/DCコンバータだから、たぶん詹先生だな。右のは65nmの94GHzのLNA（この隣に120GHzくらいのLNAもあった）。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-06_17.48.44.jpg" width="240px">

この右のは4インチウエハのMEMSガスセンサ。たぶん南方科技大のクリーンルームで作ったウエハだな。


## 22/09/07, Wed

```
0x0 01110000 MOV B, 0x0
0x1 00100000 IN A
0x2 11100110 JZ 0x06
0x3 01010011 ADD B, 0x3
0x4 00001111 ADD A, 0xf
0x5 11110010 JMP 0x02
0x6 10010000 OUT B
0x7 11110110 JMP 0x07
```

先日書いてたTD-4の掛け算プログラム、ちょっとごまかしてるところがあったので書き直し。これで被乗数3、定数INの乗算がいけるはずなんだけど、JZでジャンプしちゃうな・・・ハンダ不良をさがしてみるか。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-07_12.54.38.jpg" width="240px">

いまつくってる挿入実装部品ばかりのTD-4キットのほうは、コンピュータのことわかっている人が基板図面ひいてる気がする。ROMアドレスが0からはじまって16進数表記になってる。ただ各レジスタ内容やアドレス、制御信号等のLEDがなくて出力ポートだけで動作を視覚的に見えにくいのが残念。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-07_15.15.43.jpg" width="240px">

TD-4の2台め、抵抗以外は仮止めおわった。カーボン抵抗がなぜか見つからない・・・ﾄﾞｺｲｯﾀ

昨日の5Fギャリーにあったイメージセンサのチップ写真、安先生に聞いてみたら[余浩(Hao Yu)先生](https://sme.sustech.edu.cn/en/index/teacher/neiye/id/33.html)のだよ、とのことだった。以前訪問したときにご挨拶をした方だ。SMEの研究者一覧を一通り見ていたんだけど、生体センシングや物理センシングの方、という認識で、見落としていた。改めて業績一覧を見ると、ベタな可視光イメージセンサではないけど、マルチモーダルなセンサを広くやられているようだ。ぜひこちらにいるうちに詳しくお話をしてみたくて、コンタクトをとってみたら（以前ご挨拶したときにWeChat交換をしていた）、早速明日の午後に時間をとってもらえることになった。話が早すぎる。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-07_10.48.00.jpg" width="240px">

XiaomiGlassに手持ち眼鏡（老眼鏡）をはめるアタッチメント、プランジャを片方だけにしたらぴったりはまって固定できた。眼鏡のつるをはずしたら、めちゃいい感じで収まる。これで安心してXiaomiGlassを使える。

大学の入っているオフィスビル、[よくこのロボットが巡回してて「マスクしてねー」みたいな呼びかけをしてる](https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-09-07_15.37.49.mp4)んだけど、誰も気に留めないくらい日常に溶け込んでいる。


***

[前の週へ](2208-4.md) /
[次の週へ](2209-2.md)

今週の
[日常](../diary/2209-1.md) /
[研究](../research/2209-1.md) /
[コロナ関連](../covid19/2209-1.md) / 
[中国語勉強](../chinese/2209-1.md) / 

[SZdiaryトップ](../../README.md)
