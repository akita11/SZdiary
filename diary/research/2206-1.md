## 22/06/05, Sun

昨日、使いやすそうな小ピンマイコンとしてターゲットを絞ったSTCmicroのSTC8Gシリーズについて調べてた。（肝心のSTCmicroのWebが落ちているようで、一次ソースは今日はたどれず）

大きく分けると、「20/16ピン」「8ピン」「48ピン」の3系統。

20/16ピン・8ピンは仕様はほぼ共通（同じシリコンダイ）で、主なのはこんなところ。

- VCC=1.9-5.5V 
- RAM=256（ベース）+1k（拡張）
- 16bit乗算器・除算器
- UARTx2
- SPI, I2C
- Timer=3, PWM=3
- 10bitADC
- CMP（8ピンはない）
- BOD WDT IntOSC(精度0.3%)
- UART&USBダウンロード

フラッシュは8kと17k。型番のSTC8G"1"K"08"で、Kの前の1が拡張RAM1k、後の08がフラッシュ8k。

48ピンは、拡張RAMが2k、UARTx4、Timer=5、15bitPWMx45、以外はだいたい20/16/8ピンと同じ。フラッシュは32k/60k/64k。

コアが8051だから、CH552で使っていたSDCCを使えそうな気がする。[FWLib_STC8という簡易ライブラリ](https://github.com/IOsetting/FwLib_STC8)を公開している人がいて、ざっとみたところ、レジスタ定義などがあるので使えそう。また[解説記事](https://jaycarlson.net/pf/stcmicro-stc8/)を1つだけみつけた。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-05_11.57.04.jpg" width="240px">

昨日TaoBaoでポチっていた8pの方のブレイクアウトボードとUSB-シリアル変換器が届いていた。STCmicroのWebページが復活したら、ビルドと書き込みのチェックをしてみよう。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-05_17.42.07.png" width="240px">

そういえばこっちにいるうちにGroveコネクタ（白）を買っておこうかな、と思ってて、ふと、2000個入りが1400円かー、安いなー、と、あやうくポチりそうになってた。あぶないあぶない。


## 22/06/06, Mon

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-06_12.05.05.png" width="240px">

いろいろ調べようと目星をつけた[STCmicro](https://www.stcmicro.com/)、どうもWebページが開けない。wwwつけてもなしでもだめ。httpでもhttpsでもだめ。VPN通してもはずしてもだめ。サーバおちてるんじゃろか。知人から、代わりというわけじゃないけど、[こんなサイト](http://www.stcmcudata.com/)を教えてもらった。公式なのかどうかよくわからないけど、とりあえず欲しかった書き込みツールが「STC-ISP下载编程烧录软件」として置いてあったのでダウンロード。とりあえずこれを使ってみよう。

お隣の安先生のところ、たしか明日が研究室全体で設計している28nmのSoCのテープアウトで、研究室では何人かの学生さんが、レイアウト図と思われる図をみながらあれこれ議論をしている。追い込みだな。がんばって。

<img src="https://github.com/akita11/SZdiary/blob/main/diary/photo/2022-06-6_11.07.00.jpg" width="240px">

このまえM5Stack新製品として試作基板の設計をしていたやつが2個とも届いたとのこと。明日は時間をあけてあるので、朝からM5Stackオフィスへいって、試作と動作チェックをしにいく。部品の大半は他の製品でも使っているやつなのでむこうにストックがあって、新規のいくつかは購入済み。

***

[前の週へ](2205-5.md) /
[次の週へ](2206-2.md)

今週の
[日常](../diary/2206-1.md) /
[研究](../research/2206-1.md) /
[コロナ関連](../covid19/2206-1.md) / 
[中国語勉強](../chinese/2206-1.md) / 

[SZdiaryトップ](../../README.md)
